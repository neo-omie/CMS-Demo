<app-loader *ngIf="loading"></app-loader>
<h2 class="mt-3">Escalation Matrix Master - Contracts</h2>
<div *ngIf="!loading"  class="table-responsive p-3">
    <table class="table align-middle table-bordered table-striped">
      <thead>
        <tr>
            <th>Value ID</th>
            <th>Department Name</th>
            <th>Escalation 1</th>
            <th>Escalation 2</th>
            <th>Escalation 3</th>
            <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let contract of matrixContracts?.getEscalationMatrixContractDto">
            <td>{{contract.matrixContractId}}</td>
            <td>{{contract.departmentName}}</td>
            <td>{{contract.escalation1}}</td>
            <td>{{contract.escalation2}}</td>
            <td>{{contract.escalation3}}</td>
            <td>
              <i class="fa-regular fa-pen-to-square icon" data-bs-toggle="modal" data-bs-target="#escalation-matrix-contract-edit"  (click)="GetMatrixContractById(contract.matrixContractId)"></i>
              <i class="fa-regular fa-eye icon" data-bs-toggle="modal" data-bs-target="#escalation-matrix-contract-detail" (click)="GetMatrixContractById(contract.matrixContractId)"></i>
            </td> 
        </tr>
      </tbody>
    </table>
  </div>
   
  <nav class="d-flex justify-content-center" *ngIf="matrixContracts!=undefined && matrixContracts.getEscalationMatrixContractDto" aria-label="Page navigation example">
    <ul *ngIf="maxPage > 1" class="pagination">
      <li *ngIf="maxPage > 5" class="page-item" (click)="GetPage(1)"><span class="page-link" aria-label="FirstPage">&laquo;</span></li>
      <li *ngIf="maxPage > 5" class="page-item" (click)="GetPage(pageNumbers[0] - 1)"><span class="page-link" aria-label="Previous">&lsaquo;</span></li>
      <li class="page-item" (click)="GetPage(pageNumbers[1])"><span [class]="pageNumbers[0] == pageNumbers[1] ? 'page-link active' : 'page-link'">{{pageNumbers[1]}}</span></li>
      <li *ngIf="maxPage > 1" class="page-item" (click)="GetPage(pageNumbers[2])"><span [class]="pageNumbers[0] == pageNumbers[2] ? 'page-link active' : 'page-link'">{{pageNumbers[2]}}</span></li>
      <li *ngIf="maxPage > 2" class="page-item" (click)="GetPage(pageNumbers[3])"><span [class]="pageNumbers[0] == pageNumbers[3] ? 'page-link active' : 'page-link'">{{pageNumbers[3]}}</span></li>
      <li *ngIf="maxPage > 3" class="page-item" (click)="GetPage(pageNumbers[4])"><span [class]="pageNumbers[0] == pageNumbers[4] ? 'page-link active' : 'page-link'">{{pageNumbers[4]}}</span></li>
      <li *ngIf="maxPage > 4" class="page-item" (click)="GetPage(pageNumbers[5])"><span [class]="pageNumbers[0] == pageNumbers[5] ? 'page-link active' : 'page-link'">{{pageNumbers[5]}}</span></li>
      <li *ngIf="maxPage > 5" class="page-item" (click)="GetPage(pageNumbers[0] + 1)"><span class="page-link" aria-label="Next">&rsaquo;</span></li>
      <li *ngIf="maxPage > 5" class="page-item" (click)="GetPage(maxPage)"><span class="page-link" aria-label="LastPage">&raquo;</span></li>
    </ul>
  </nav>
   <!-- <div class="modal fade" id="escalation-matrix-contract-edit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5">Edit</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form #contractForm="ngForm" (ngSubmit)="updateDocument(contractForm)">
            <div class="form-group">
                <label for="escalationName1">Document Name</label>
                <input type="text" class="form-control" id="escalationName1" name="escalationName1" [(ngModel)]="document.documentName" required />
              </div>
              <br>
              <div class="form-group">
                <label for="status">Document Status</label>
                <select name="status" id="status" class="form-select" [(ngModel)]="document.status">
                  <option selected value="1">Active</option>
                  <option value="0">InActive</option>
                </select>
              </div>
              <br>
              <button type="submit" class="btn btn-outline-success" data-bs-dismiss="modal"><i class="fa-solid fa-plus"></i> Add document</button>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn">Save</button>
            <button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div> -->
  <div class="modal fade" id="escalation-matrix-contract-detail" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header d-flex justify-content-between">
          <h1 style="color:whitesmoke;" class="modal-title fs-5 fw-bolder">Detail</h1>
          <button type="button" class="btn close-btn" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="modal-body">
          <h1 class="modal-title fs-6 mb-3">{{escalationMatrixContract?.departmentName}} Escalators</h1>
          
          
         
          
       
          <div class="mb-3">
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-user"></i><span class="fw-bolder">1</span></span>
                <input type="text" name="escalatorName1" class="form-control" id="escalatorName1" [value]="escalationMatrixContract != undefined ? escalationMatrixContract.escalation1 : ''" disabled>
            </div>
          </div>
          <div class="mb-3">
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-user"></i><span class="fw-bolder">2</span></span>
                <input type="text" name="escalatorName2" class="form-control" id="escalatorName2" [value]="escalationMatrixContract != undefined ? escalationMatrixContract.escalation2 : ''" disabled>
            </div>
          </div>
          <div class="mb-3">
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-user"></i><span class="fw-bolder">3</span></span>
                <input type="text" name="escalatorName3" class="form-control" id="escalatorName3" [value]="escalationMatrixContract != undefined ? escalationMatrixContract.escalation3 : ''" disabled>
            </div>
          </div>
          <h1 class="modal-title fs-6 mb-3">Trigger After</h1>
          <div class="mb-3">
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-calendar-days"></i></span>
                <input type="text" name="triggerDaysEscalation1" class="form-control" id="triggerDaysEscalation1" [value]="escalationMatrixContract != undefined ? escalationMatrixContract.triggerDaysEscalation1 : ''" disabled>
            </div>
          </div>
          <div class="mb-3">
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-calendar-days"></i></span>
                <input type="text" name="triggerDaysEscalation2" class="form-control" id="triggerDaysEscalation2" [value]="escalationMatrixContract != undefined ? escalationMatrixContract.triggerDaysEscalation2 : ''" disabled>
            </div>
          </div>
          <div class="mb-3">
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-calendar-days"></i></span>
                <input type="text" name="triggerDaysEscalation3" class="form-control" id="triggerDaysEscalation3" [value]="escalationMatrixContract != undefined ? escalationMatrixContract.triggerDaysEscalation3 : ''" disabled>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>