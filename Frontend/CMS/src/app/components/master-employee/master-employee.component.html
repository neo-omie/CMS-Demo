<app-loader *ngIf="loading"></app-loader>  
<h2>List Of Employees</h2>
<div class="container">
    <!-- Filter Logic -->
     <div class="filter-search">
        <label for="unitFilter">
            Unit:
        </label>
        <select id="unitFilter" [(ngModel)]="selectedUnit" (change)="onFilterChange()">
            <option value="All">All</option>
            <option value="Thane">Thane</option>
            <option value="Pune">Pune</option>
            <option value="Indore">Indore</option>
        </select>

        <input type="text" placeholder="Search by Employee Id or Name" class="searchbox" [(ngModel)]="searchTerm" (keyup)="onFilterChange()"/>
        <button class="addbtn" (click)="addEmployee()">Add New Employee</button>
     </div>
</div>
    <!-- Table  -->
    <div *ngIf="!loading" class="table-responsive p-3">
        <table class="table align-middle table-bordered table-striped">
            <thead>
                <tr>
                    <th>ValueId</th>
                    <th>Employee Name</th>
                    <th>Employee Location</th>
                    <th>Roles</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
               <tr *ngFor="let employee of employees"> 
                    <td>{{employee.valueId}}</td>
                    <td>{{employee.employeeName}}</td>
                    <td>{{employee.unit}}</td>
                    <td>{{employee.role}}</td>
                    <td>
                        <i class="fa-solid fa-pen-to-square icon" title="Edit" (click)="editEmployee(employee)"></i>
                        <i class="fa-solid fa-eye icon" title="View" (click)="viewEmployee(employee)"></i>
                        <i class="fa-solid fa-trash icon" title="Delete" (click)="deleteEmployee(employee)"></i>
                    </td>
               </tr> 
            </tbody>
        </table>
    </div>
    <!-- Pagination -->
    <div class="tablefoot">
        <div class="d-flex justify-content-between align-items-center">
        <!-- Total Employees Count -->
            <div class="totalemp">
                <p>Total Employees: {{ totalEmployees }}</p>
            </div>
          <!-- Pagination -->
            <nav *ngIf="employees.length > 0" aria-label="Page navigation example">
            <ul *ngIf="maxPage >= 1" class="pagination">
              <li *ngIf="maxPage > 3" class="page-item" (click)="GetPage(1)">
                <span class="page-link" aria-label="FirstPage">&laquo;</span>
              </li>
              <li *ngIf="maxPage > 1" class="page-item" (click)="GetPage(pageNumbers[0] - 1)">
                <span class="page-link" aria-label="Previous">&lsaquo;</span>
              </li>
              <li class="page-item" (click)="GetPage(pageNumbers[1])">
                <span [class]="pageNumbers[0] == pageNumbers[1] ? 'page-link active' : 'page-link'">{{ pageNumbers[1] }}</span>
              </li>
              <li *ngIf="maxPage > 1" class="page-item" (click)="GetPage(pageNumbers[2])">
                <span [class]="pageNumbers[0] == pageNumbers[2] ? 'page-link active' : 'page-link'">{{ pageNumbers[2] }}</span>
              </li> 
              <li *ngIf="maxPage > 2" class="page-item" (click)="GetPage(pageNumbers[3])">
                <span [class]="pageNumbers[0] == pageNumbers[3] ? 'page-link active' : 'page-link'">{{ pageNumbers[3] }}</span>
              </li>
              <li *ngIf="maxPage > 3" class="page-item" (click)="GetPage(pageNumbers[4])">
                <span [class]="pageNumbers[0] == pageNumbers[4] ? 'page-link active' : 'page-link'">{{ pageNumbers[4] }}</span>
              </li>
              <li *ngIf="maxPage > 4" class="page-item" (click)="GetPage(pageNumbers[5])">
                <span [class]="pageNumbers[0] == pageNumbers[5] ? 'page-link active' : 'page-link'">{{ pageNumbers[5] }}</span>
              </li>
              <li *ngIf="maxPage > 1" class="page-item" (click)="GetPage(pageNumbers[0] + 1)">
                <span class="page-link" aria-label="Next">&rsaquo;</span>
              </li>
              <li *ngIf="maxPage > 3" class="page-item" (click)="GetPage(maxPage)">
                <span class="page-link" aria-label="LastPage">&raquo;</span>
              </li>
            </ul>
          </nav>
        </div>
    </div>
  